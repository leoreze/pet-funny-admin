<!DOCTYPE html>
<html lang="pt-BR">
<head>
<!-- PATCH: Desativar multi-servi√ßos no agendamento (admin). 2025-12-24 -->
  <meta charset="UTF-8" />
  <title>Admin ‚Äì Pet Funny</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <link rel="stylesheet" href="/style.css" />

    <!-- PATCH: Ajuste de colunas da tabela de Agendamentos (sem rolagem horizontal). 2026-01-06 -->
    <style>
      /* Mant√©m a tabela mais est√°vel sem alterar layout geral do admin */
      #agendaListWrapper table { font-size: 12px; }
      #agendaListWrapper th, #agendaListWrapper td { padding: 6px 8px; vertical-align: middle; }

      /* Tutor(a): permitir quebrar linha para manter nome completo */
      #agendaListWrapper td:nth-child(3),
      #agendaListWrapper th:nth-child(3) { white-space: normal; word-break: break-word; }

      /* Telefone: nunca quebrar linha */
      #agendaListWrapper td:nth-child(5),
      #agendaListWrapper th:nth-child(5) { white-space: nowrap; }

      /* Servi√ßos / Valores / Obs: permitir quebra */
      #agendaListWrapper td:nth-child(6),
      #agendaListWrapper td:nth-child(7),
      #agendaListWrapper td:nth-child(13) { white-space: normal; word-break: break-word; }

      /* Pagamento e Status: compactos (mesmo ‚Äútamanho de tag‚Äù) */
      #agendaListWrapper th:nth-child(9),  #agendaListWrapper td:nth-child(9),
      #agendaListWrapper th:nth-child(10), #agendaListWrapper td:nth-child(10) { width: 76px; }

      #agendaListWrapper th:nth-child(13), #agendaListWrapper td:nth-child(13) { width: 120px; }

      /* Badges compactos */
      #agendaListWrapper .pay-badge,
      #agendaListWrapper .td-status {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        min-width: 66px;
        padding: 2px 6px;
        font-size: 11px;
        line-height: 1.2;
        text-align: center;
      }

      /* Status pode ser maior, mas mant√©m comportamento compacto */
      #agendaListWrapper .td-status { white-space: normal; }
    
/* ===== PATCH TABELA AGENDAMENTOS (compacta√ß√£o sem abrevia√ß√£o) ===== */
#agendaListWrapper table {
  table-layout: fixed;
}

#agendaListWrapper th:nth-child(2),
#agendaListWrapper td:nth-child(2) {
  /* Coluna Hora */
  width: 70px;
  white-space: nowrap;
}

#agendaListWrapper th:nth-child(13),
#agendaListWrapper td:nth-child(13) {
  /* Coluna Obs */
  width: 140px;
  white-space: normal;
  word-break: break-word;
}

#agendaListWrapper td,
#agendaListWrapper th {
  font-size: 12px;
  vertical-align: middle;
}
/* ===== /PATCH ===== */

</style>
</head>
<body>

<header class="top-brand">
  <img src="/pet-funny-logo.svg" alt="Pet Funny" />
</header>

<section id="loginScreen">
  <div class="login-card">
    <div class="login-title">√Årea Administrativa ‚Äì Pet Funny</div>
    <div class="login-subtitle">
      Acesse com o usu√°rio e senha da equipe para ver agenda, clientes e pets.
    </div>

    <div class="login-field">
      <div class="login-label">Usu√°rio</div>
      <input type="text" id="loginUser" class="login-input" placeholder="adminpetfunny" />
    </div>

    <div class="login-field">
      <div class="login-label">Senha</div>
      <input type="password" id="loginPass" class="login-input" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" />
    </div>

    <button id="btnLogin" class="btn" style="margin-top: 8px;">
      Entrar no painel
    </button>

    <div id="loginError" class="login-error hidden">
      Usu√°rio ou senha incorretos. Tente novamente.
    </div>

    <div class="login-footer-hint">
      √Årea exclusiva para a equipe Pet Funny.
    </div>
  </div>
</section>

<div id="adminApp">
  <div class="container">

    <div class="header header-admin">
      <!-- Menu + texto + logo-sub (lado esquerdo) -->
      <div class="header-left">
        <button
          id="btnMenu"
          class="menu-trigger"
          type="button"
          aria-label="Abrir menu"
          aria-expanded="false"
        >
          <span class="menu-icon" aria-hidden="true">‚ò∞</span>
          <span class="menu-text">Menu</span>
        </button>

        <div class="logo-sub logo-inline">
          √Årea Administrativa ‚Äì Pet Funny
        </div>
      </div>

      <!-- A√ß√µes (lado direito) -->
      <div class="filters header-right">
        <button class="btn btn-danger" id="btnLogout" type="button">
          Sair
        </button>
      </div>
    </div>



    <!-- MENU LATERAL (HAMBURGUER) -->
    <div id="sidebarBackdrop" class="sidebar-backdrop hidden"></div>

    <nav id="sidebar" class="sidebar hidden" aria-label="Menu do painel">
      <div class="sidebar-header">
        <div class="sidebar-title">Menu</div>
        <button id="btnMenuClose" class="sidebar-close" type="button" aria-label="Fechar menu">‚úï</button>
      </div>

      <div class="sidebar-links">
          <!-- Reaproveita os MESMOS bot√µes/tab-btn e data-tab -->
          <button class="tab-btn active" data-tab="tab-agenda" type="button"><span>üìÖ</span> Agendamentos</button>
          <button class="tab-btn" data-tab="tab-clientes" type="button"><span>üë§</span> Clientes &amp; üê∂ Pets</button>
          <button class="tab-btn" data-tab="tab-servicos" type="button"><span>üßº</span> Servi√ßos</button>
          <button class="tab-btn" data-tab="tab-pacotes" type="button"><span>üì¶</span> Pacotes</button>
      <button class="tab-btn" data-tab="tab-mimos" type="button"><span>üéÅ</span> Mimos</button>
          <button class="tab-btn" data-tab="tab-financeiro" type="button"><span>üí∞</span> Financeiro</button>
          <button class="tab-btn" data-tab="tab-horarios" type="button"><span>‚è±Ô∏è</span> Hor√°rio de Funcionamento</button>
          <button class="tab-btn" data-tab="tab-automacao" type="button"><span>‚öôÔ∏è</span> Automa√ß√£o</button>
          <button class="tab-btn" data-tab="tab-dashboard" type="button"><span>üìä</span> Dashboard</button>
      </div>
    </nav>


    <!-- TAB: AGENDA -->
    <section id="tab-agenda" class="tab-view active">
      <div class="section-title-row">
         <div class="section-title"><span>üìÖ</span> Agendamentos</div>

           <div class="agenda-actions-right">
          <!-- NOVO: Toggle Lista/Cards -->
          <div class="view-toggle" aria-label="Alternar visualiza√ß√£o">
            <button class="toggle-btn active" id="btnViewList" type="button">üìã Lista</button>
            <button class="toggle-btn" id="btnViewCards" type="button">üóÇÔ∏è Cards</button>
            <button class="toggle-btn" id="btnViewCalendar" type="button">üóìÔ∏è Calend√°rio</button>
          </div>

          <button class="btn" id="btnNovoAgendamento" type="button">+ Novo agendamento</button>
        </div>
      </div>

 

        <!-- FILTROS (APENAS DA AGENDA) -->
  <div class="agenda-filters" style="margin: 8px 0 14px; display:flex; flex-wrap:wrap; gap:10px; align-items:center;">
    <div class="filters-group">
      <label>Data</label>
      <input type="date" id="filtroData" />
    </div>

    <button class="btn btn-light" id="btnHoje" type="button">Hoje</button>
    <button class="btn btn-light" id="btnLimparFiltro" type="button">Limpar</button>

    <div class="filters-group" style="flex:1; min-width:200px;">
      <label style="font-size:14px;">Buscar</label>
      <input
        type="text"
        id="filtroBusca"
        placeholder="Nome do tutor, pet ou telefone"
        style="width:100%;"
      />
    </div>

    <button class="btn btn-light" id="btnExportarCSV" type="button">
      Exportar CSV
    </button>
  </div>

      

  <div class="hidden" id="formPanel">
        <input type="hidden" id="bookingId" />
        <input type="hidden" id="bookingOriginalStatus" />

        <div class="form-row">
          <div class="form-group">
            <label for="formPhone">Telefone (WhatsApp)</label>
            <input type="text" id="formPhone" placeholder="(16) 9 9999-9999" />
          </div>
          <div class="form-group">
            <label for="formNome">Tutor(a)</label>
            <input type="text" id="formNome" placeholder="Nome do tutor" />
          </div>
          <div class="form-group">
            <label for="formPetSelect">Pet</label>
            <select id="formPetSelect">
              <option value="">(Sem pet informado)</option>
            </select>
          </div>
          <div class="form-group">
            <label for="formPrize">Mimo (Roleta)</label>
            <select id="formPrize">
              <option value="">‚Äî Sem mimo ‚Äî</option>
            </select>
          </div>
        </div>

        
        <div class="form-row-2" id="bookingRowTipo">
          <div class="form-group">
            <div class="form-row-2" style="margin-top:8px;">
              <div class="form-group">
                <label for="formBookingKind">Tipo</label>
                <select id="formBookingKind">
                  <option value="">‚Äî Selecione ‚Äî</option>
                  <option value="avulso">Avulso</option>
                  <option value="pacote">Pacote</option>
                </select>
              </div>
              <div class="form-group" id="packagePickerGroup" style="display:none;">
                <label for="formPackageId">Pacotes</label>
                <select id="formPackageId">
                  <option value="">Selecione um pacote...</option>
                </select>
              </div>
            </div>

            <!-- Campos dependentes do Tipo -->
            <div id="bookingKindGate" style="display:none;">
              <!-- AVULSO: sele√ß√£o de servi√ßos + lista -->
              <div id="bookingAvulsoOnly" style="display:none;">
                <div class="form-group" id="service-picker">
                  <label for="formService">Servi√ßos (pode adicionar mais de 1)</label>
                  <select id="formService">
                    <option value="">Carregando servi√ßos...</option>
                  </select>
                  <button type="button" class="btn btn-secondary" id="btnAddService">Adicionar</button>
                </div>

                <div class="selected-services" id="selectedServicesWrap" style="display:none;">
                  <div class="selected-services-title">Servi√ßos selecionados</div>
                  <ul id="selectedServicesList"></ul>
                  <div class="selected-services-total">Total servi√ßos: <span id="servicesTotal">R$ 0,00</span></div>

                  <div class="service-meta-row">
                    <div class="form-group">
                      <label for="formServiceValue">Valor dos servi√ßos (R$)</label>
                      <input type="text" id="formServiceValue" class="-field" placeholder="R$ 0,00" / readonly>
                    </div>
                    <div class="form-group">
                      <label for="formServiceDuration">Tempo total (min)</label>
                      <input type="number" id="formServiceDuration" class="-field" placeholder="0" / readonly>
                    </div>
                  </div>
                </div>
              </div>

              <!-- COMUM (Avulso e Pacote): Data/Hor√°rio/Pagamento/Forma/Status -->
              <div class="form-row" id="bookingRowSchedule" style="grid-template-columns: repeat(5, minmax(0, 1fr)); gap:8px; margin-top:8px;">
                <div class="form-group">
                  <label for="formDate">Data</label>
                  <input type="date" id="formDate" />
                </div>
                <div class="form-group">
                  <label for="formTime">Hor√°rio</label>
                  <input type="time" id="formTime" />
                </div>
                <div class="form-group">
                  <label for="formPaymentStatus">Pagamento</label>
                  <select id="formPaymentStatus">
                    <option value="N√£o Pago">N√£o Pago</option>
                    <option value="Pago">Pago</option>
                  </select>
                </div>
                <div class="form-group">
                  <label for="formPaymentMethod">Forma de Pagamento</label>
                  <select id="formPaymentMethod">
                    <option value="">‚Äî Selecione ‚Äî</option>
                    <option value="Dinheiro">Dinheiro</option>
                    <option value="D√©bito">D√©bito</option>
                    <option value="Cr√©dito">Cr√©dito</option>
                    <option value="Pix">Pix</option>
                  </select>
                </div>
                <div class="form-group">
                  <label for="formStatus">Status</label>
                  <select id="formStatus">
                    <option value="agendado">Agendado</option>
                    <option value="confirmado">Confirmado</option>
                    <option value="recebido">Recebido</option>
                    <option value="em servi√ßo">Em servi√ßo</option>
                    <option value="conclu√≠do">Conclu√≠do</option>
                    <option value="entregue">Entregue</option>
                    <option value="cancelado">Cancelado</option>
                  </select>
                </div>
              </div>

              <div class="form-group" id="bookingRowNotes">
                <label for="formNotes">Observa√ß√µes</label>
                <textarea id="formNotes" placeholder="Ex: porte, comportamento, cuidados especiais..."></textarea>
              </div>

              <div id="formError" class="error-msg" style="display:none;"></div>

              <div class="form-actions" id="bookingRowActions">
                <button class="btn btn-secondary" id="btnCancelarEdicao" type="button">Limpar / cancelar</button>
                <button class="btn" id="btnSalvar" type="button">Salvar</button>
              </div>
            </div>
          </div>
        </div>
  </div>

  <!-- Modal: Cadastrar / Editar Agendamento (Admin) -->
  <div id="bookingModal" class="pf-modal hidden" aria-hidden="true">
    <div class="pf-modal__backdrop" id="bookingModalBackdrop"></div>
    <div class="pf-modal__dialog" role="dialog" aria-modal="true" aria-labelledby="bookingModalTitle">


       <div class="pf-modal-head">
      <div class="pf-modal-left">
        <div class="pf-modal-ic" aria-hidden="true">üìÖ</div>
        <div>
          <p class="pf-modal-title" id="customerModalTitle">Cadastrar / Editar Agendamento</p>
          <p class="pf-modal-sub" id="customerModalSub">Preencha os dados para salvar.</p>
        </div>
      </div>
      <button class="pf-modal-x" id="bookingModalClose" type="button" aria-label="Fechar">√ó</button>
    </div>

      <div class="pf-modal__body">
        <!-- O formul√°rio existente (#formPanel) √© movido para c√° via JS ao abrir o modal -->
        <div id="bookingModalFormHost"></div>

        <div id="bookingModalSuccess" class="pf-modal__success hidden">
          <div class="pf-modal__successText" id="bookingModalSuccessText">Agendamento cadastrado com sucesso!</div>
          <div class="pf-modal__successActions">
            <button type="button" class="btn" id="bookingModalSuccessClose">Fechar</button>
          </div>
        </div>
      </div>
    </div>
  </div>

   <div class="stats">
        <div class="stats-item"><span class="stats-label">Total de agendamentos:</span> <span class="stats-value" id="statTotal">0</span></div>
        <div class="stats-item"><span class="stats-label">Total de agendamentos Avulsos:</span> <span class="stats-value" id="statAvulsos">0</span></div>
        <div class="stats-item"><span class="stats-label">Total de agendamentos Pacotes:</span> <span class="stats-value" id="statPacotes">0</span></div>
      </div>

       <!-- NOVO: Wrapper Lista -->
      <div id="agendaListWrapper" class="table-wrapper">
        <table>
          <thead>
          <tr>
            <th class="status-strip-col"></th>
            <th>Data</th>
            <th>Hora</th>
            <th>Tutor(a)</th>
            <th>Pet</th>
            <th>Telefone</th>
            <th>Servi√ßo(s)</th>
            <th>Valores</th>
            <th>Mimo</th>
            <th>Pg</th>
            <th>Forma</th>
                        <th>Obs.</th>
            <th>Status</th>
            <th style="align-items: end;">A√ß√µes</th>
          </tr>
          </thead>
          <tbody id="tbodyAgenda"></tbody>
        </table>
        <div id="estadoVazio" class="empty" style="display:none;">Nenhum agendamento encontrado para o filtro atual.</div>
      </div>
      

   

      <!-- NOVO: Wrapper Cards -->
      <div id="agendaCardsWrapper" class="cards-wrapper hidden">
        <div id="agendaCards" class="cards-grid"></div>
        <div id="estadoVazioCards" class="empty hidden">Nenhum agendamento encontrado para o filtro atual.</div>
      </div>

      <!-- NOVO: Carregar mais (pagina√ß√£o da lista/cards) -->
      <div id="agendaLoadMoreBar" class="footer" style="display:none; margin-top:10px; align-items:center; justify-content:space-between;">
        <div id="agendaLoadMoreInfo">Mostrando 0 agendamento(s)</div>
        <button class="btn btn-light" id="btnCarregarMaisAgenda" type="button" style="display:none;">Carregar mais</button>
      </div>
    

      <!-- NOVO: Wrapper Calend√°rio -->
      <div id="agendaCalendarWrapper" class="calendar-wrapper hidden">
        <div class="calendar-toolbar">
          <button class="btn btn-light" id="calPrev" type="button">‚óÄ</button>
          <div class="cal-label" id="calLabel">M√™s/Ano</div>
          <button class="btn btn-light" id="calNext" type="button">‚ñ∂</button>
          <button class="btn btn-light" id="calToday" type="button">Hoje</button>
        </div>
        <div class="calendar-week" id="agendaCalendarWeek"></div>
        <div id="agendaCalendar" class="calendar-grid"></div>
        <div class="calendar-daylist">
          <div class="calendar-daylist-title" id="calDayTitle">Selecione um dia para ver os agendamentos.</div>
          <div id="agendaCalendarDayList"></div>
          <div id="estadoVazioCalendarDay" class="empty hidden">Nenhum agendamento neste dia.</div>
        </div>
      </div>

    </section>

    <!-- TAB: CLIENTES & PETS -->
    <section id="tab-clientes" class="tab-view">


      <div class="section-title-row">
         <div class="section-title"><span>üë§</span> Clientes</div>

           <div class="agenda-actions-right">
    
               <div class="filters-group">
              


          <label style="font-size:14px;">Buscar</label>
          <input type="text" id="filtroClientes" placeholder="Nome do tutor ou telefone" />
          <button class="btn btn-light" id="btnLimparClientes" type="button">Limpar</button>
        </div>

           <button class="btn" id="btnNovoCliente" type="button">+ Novo cliente</button>
        </div>
      </div>
    
      <div class="two-cols">
        <!-- CLIENTES -->
  

          <div id="clienteFormBlock" class="hidden">
            <div class="form-group">
              <label for="cliPhone">Telefone (WhatsApp)</label>
              <input type="text" id="cliPhone" placeholder="(16) 9 9999-9999" />
            </div>
            <div class="form-group">
              <label for="cliName">Nome do tutor</label>
              <input type="text" id="cliName" placeholder="Nome completo" />
            </div>
            <!-- PATCH: Foto do cliente (opcional). 2026-01-06 -->
            <div class="form-group">
              <label for="cliPhotoFile">Foto do cliente (opcional)</label>
              <input type="file" id="cliPhotoFile" accept="image/*" />
              <input type="hidden" id="cliPhotoData" />
              <img id="cliPhotoPreview" alt="Pr√©via da foto do cliente" class="hidden" style="margin-top:8px; max-width:120px; max-height:120px; border-radius:10px; border:1px solid rgba(0,0,0,0.08);" />
            </div>

        <!-- PATCH: add customer address fields (CEP, rua, etc) - 2025-12-24 -->
        <div class="form-group">
          <label for="cliCep">CEP</label>
          <input type="text" id="cliCep" placeholder="00000-000" autocomplete="postal-code">
        </div>
        <div class="form-group">
          <label for="cliStreet">Logradouro</label>
          <input type="text" id="cliStreet" placeholder="Rua / Avenida" autocomplete="address-line1">
        </div>
        <div class="form-group">
          <label for="cliNumber">N√∫mero</label>
          <input type="text" id="cliNumber" placeholder="N√∫mero" autocomplete="address-line2">
        </div>
        <div class="form-group">
          <label for="cliComplement">Complemento</label>
          <input type="text" id="cliComplement" placeholder="Apto, Bloco, etc">
        </div>
        <div class="form-group">
          <label for="cliNeighborhood">Bairro</label>
          <input type="text" id="cliNeighborhood" placeholder="Bairro">
        </div>
        <div class="form-group">
          <label for="cliCity">Cidade</label>
          <input type="text" id="cliCity" placeholder="Cidade">
        </div>
        <div class="form-group">
          <label for="cliState">UF</label>
          <input type="text" id="cliState" placeholder="UF" maxlength="2" style="text-transform:uppercase">
        </div>

            <div id="cliError" class="error-msg" style="display:none;"></div>
            <div class="form-actions">
              <button class="btn btn-secondary" id="btnCliLimpar" type="button">Limpar</button>
              <button class="btn" id="btnCliSalvar" type="button">Salvar / Atualizar</button>
            </div>
          </div>

     
      </div>



      <div id="clientesListWrapper" class="subtable-wrapper" style="margin-top:10px;">
            <table>
              <thead>
              <tr>
                <th>ID</th>
                <th class="col-avatar">Foto</th>
                <th>Tutor</th>
                <th>Telefone</th>
                <th>Pets</th>
                <th>Agendamentos</th>
                <th style="display:inline-flex; align-items:flex-end; justify-content:right;">A√ß√µes</th>
              </tr>
              </thead>
              <tbody id="tbodyClientes"></tbody>
            </table>
      </div>

      <!-- PETS DO CLIENTE SELECIONADO -->
      <div class="hidden" id="petsCard">
        <div class="subcard-title">
          <h3 style="margin:0;"></h3>
          <button class="btn" id="btnNovoPet" type="button">+ Novo pet</button>
        </div>

        <!-- Formul√°rio (abre ao clicar em "+ Novo pet" ou ao editar) -->
        <div id="petFormBlock" class="hidden">
          <div class="form-group">
            <label for="petName">Nome do pet</label>
            <input type="text" id="petName" placeholder="Nome do pet" />
          </div>
          <!-- PATCH: Foto do pet (opcional). 2026-01-06 -->
          <div class="form-group">
            <label for="petPhotoFile">Foto do pet (opcional)</label>
            <input type="file" id="petPhotoFile" accept="image/*" />
            <input type="hidden" id="petPhotoData" />
            <img id="petPhotoPreview" alt="Pr√©via da foto do pet" class="hidden" style="margin-top:8px; max-width:120px; max-height:120px; border-radius:10px; border:1px solid rgba(0,0,0,0.08);" />
          </div>

          <div class="form-group">
            <label for="petBreed">Ra√ßa</label>
            <select id="petBreed"></select>
          </div>
          <div class="form-group">
            <label for="petSize">Porte</label>
            <select id="petSize">
              <option value="">(Selecione)</option>
              <option value="Pequeno">Pequeno</option>
              <option value="M√©dio">M√©dio</option>
              <option value="Grande">Grande</option>
            </select>
          </div>
          <div class="form-group">
            <label for="petCoat">Pelagem</label>
            <select id="petCoat">
              <option value="">(Selecione)</option>
              <option value="Curta">Curta</option>
              <option value="M√©dia">M√©dia</option>
              <option value="Longa">Longa</option>
            </select>
          </div>
          <div class="form-group">
            <label for="petInfo">Observa√ß√µes</label>
            <textarea id="petInfo" placeholder="Comportamento, medica√ß√£o, observa√ß√µes, etc."></textarea>
          </div>
          <div id="petError" class="error-msg" style="display:none;"></div>
          <div class="form-actions">
            <button class="btn btn-secondary" id="btnPetLimpar" type="button">Limpar</button>
            <button class="btn" id="btnPetSalvar" type="button">Salvar pet</button>
          </div>
        </div>


        <!-- Listagem (sempre vis√≠vel dentro do modal) -->
        <div class="subtable-wrapper" style="margin-top:10px;">
          <table>
            <thead>
            <tr>
              <th>ID</th>
              <th class="col-avatar">Foto</th>
              <th>Nome</th>
              <th>Ra√ßa</th>
              <th>Porte</th>
              <th>Pelagem</th>
              <th>Observa√ß√µes</th>
              <th>A√ß√µes</th>
            </tr>
            </thead>
            <tbody id="tbodyPets"></tbody>
          </table>
        </div>
      </div>

    
    </section>

  
   <!-- TAB: SERVI√áOS -->
    <section id="tab-servicos" class="tab-view">
      <div class="section-title-row">
        <div class="section-title"><span>üßº</span> Servi√ßos</div>
        <div class="tab-toolbar-inline">
          <div class="filters-group">
            <label style="font-size:14px;">Buscar</label>
            <input type="text" id="filtroServicos" placeholder="T√≠tulo do servi√ßo" />
            
            <select id="filtroCategoriaServicos" class="select-small" aria-label="Filtrar por categoria">
              <option value="">Todas categorias</option>
              <option value="Banho">Banho</option>
              <option value="Complemento">Complemento</option>
              <option value="Tosa">Tosa</option>
              <option value="Avulso">Avulso</option>
            </select>
<select id="filtroPorteServicos" class="select-small" aria-label="Filtrar por porte">
  <option value="">Todos os portes</option>
  <option value="Pequeno">Pequeno</option>
  <option value="M√©dio">M√©dio</option>
  <option value="Grande">Grande</option>
</select>
<button class="btn btn-light" id="btnLimparServicos" type="button">Limpar</button>
          </div>
        </div>
        <button class="btn" id="btnNovoServico" type="button">+ Novo servi√ßo</button>
      </div>

      

      <div class="table-wrapper">
        <table>
          <thead>
            <tr>
              <th>ID</th>
              <th>Data</th>
              <th>Categoria</th>
              <th>T√≠tulo</th>
              <th>Porte</th>
              <th>Tempo</th>
              <th>Valor</th>
              <th>Criado em</th>
              <th>Atualizado em</th>
              <th>A√ß√µes</th>
            </tr>
          </thead>
          <tbody id="tbodyServices"></tbody>
        </table>
        <div id="servicesEmpty" class="empty" style="display:none;">Nenhum servi√ßo cadastrado ainda.</div>
      </div>

   
      </section>  
    

    <!-- TAB: PACOTES -->
    <section id="tab-pacotes" class="tab-view">
      <!-- PACOTES DE SERVI√áOS (POR PORTE) -->
      <div class="section-divider"></div>
      <div class="section-title-row" style="margin-top:16px;">
        <div class="section-title"><span>üì¶</span> Pacotes</div>
        <div class="tab-toolbar-inline">
          <div class="filters-group">
            <label style="font-size:14px;">Buscar</label>
            <input type="text" id="filtroPacotesTitle" placeholder="T√≠tulo do pacote" />
            <select id="filtroPacotesTipo" class="select-small" aria-label="Filtrar por tipo">
              <option value="">Todos os tipos</option>
              <option value="mensal">Mensal</option>
              <option value="quinzenal">Quinzenal</option>
            </select>
            <select id="filtroPacotesPorte" class="select-small" aria-label="Filtrar por porte">
              <option value="">Todos os portes</option>
              <option value="Pequeno">Pequeno</option>
              <option value="M√©dio">M√©dio</option>
              <option value="Grande">Grande</option>
            </select>
            <button class="btn btn-light" id="btnLimparPacotes" type="button">Limpar</button>
          </div>
          <button type="button" class="btn" id="btnNewPackage">+ Novo pacote</button>
        </div>
      </div>

      <div id="packageFormCard" class="card" style="display:none; margin-top:12px;">
        <div class="card-content">
          <div class="form-row">
  <div class="form-group">
    <label for="pkgTitle">Nome do pacote</label>
    <input id="pkgTitle" type="text" placeholder="Ex.: Pacote Mensal" />
  </div>
  <div class="form-group">
    <label for="pkgType">Tipo de pacote</label>
    <select id="pkgType">
      <option value="mensal">Mensal</option>
      <option value="quinzenal">Quinzenal</option>
    </select>
  </div>
  <div class="form-group">
    <label for="pkgPorte">Porte do pet</label>
    <select id="pkgPorte">
      <option value="">Selecione o porte...</option>
      <option value="Pequeno">Pequeno</option>
      <option value="M√©dio">M√©dio</option>
      <option value="Grande">Grande</option>
    </select>
  </div>
  <div class="form-group">
    <label for="pkgIsActive">Ativo</label>
    <select id="pkgIsActive">
      <option value="true">Sim</option>
      <option value="false">N√£o</option>
    </select>
  </div>
</div>

          <div id="pkgMoreFields" style="display:none;">
            <div class="form-row-3">
              <div class="form-group">
                <label for="pkgValidityDays">Vig√™ncia (dias)</label>
                <input id="pkgValidityDays" type="number" min="1" value="30" />
              </div>
              <div class="form-group">
                <label for="pkgBathQty">Qtd. de banhos</label>
                <input id="pkgBathQty" type="number" min="1" value="4" />
              </div>
              <div class="form-group">
                <label for="pkgBathDiscount">Desconto no banho (%)</label>
                <input id="pkgBathDiscount" type="number" min="0" max="100" value="20" />
              </div>
            </div>

            <div class="form-row-1">
  <div class="form-group">
    <label for="pkgBathService">Servi√ßo banho (filtrado pelo porte)</label>
    <select id="pkgBathService">
      <option value="">Selecione o porte primeiro...</option>
    </select>
  </div>
</div>

<div class="form-row-2cols">
  <div class="form-group">
    <label>Servi√ßos inclusos (gratuitos no pacote)</label>
    <div id="pkgIncludedList" class="checkbox-grid"></div>
  </div>
  <div class="form-group">
    <label><strong>Resumo da economia (autom√°tico)</strong></label>
    <hr style="border:0; border-top:1px solid #e0edf0; margin:6px 0 10px;" />
    <div id="pkgEconomyPreview" class="economy-preview">Selecione o porte e o servi√ßo de banho para ver o resumo.</div>
  </div>
</div>
                <div style="margin-top:10px; display:flex; gap:8px; justify-content:flex-end;">
                  <button type="button" class="btn btn-secondary" id="btnCancelPackage">Cancelar</button>
                  <button type="button" class="btn" id="btnSavePackage">Salvar pacote</button>
                </div>
                <input type="hidden" id="pkgId" value="" />
              </div>
            </div>
      </div>

      <div class="table-wrapper" style="margin-top:12px;">
        <table>
          <thead>
            <tr>
              <th>Nome</th>
              <th>Tipo</th>
              <th>Porte</th>
              <th>Vig√™ncia</th>
              <th>Banhos</th>
              <th>Desconto</th>
              <th>Pre√ßo pacote</th>
              <th>Avulso real</th>
              <th>Economia</th>
              <th>Status</th>
              <th>A√ß√µes</th>
            </tr>
          </thead>
          <tbody id="tbodyPackages"></tbody>
        </table>
        <div id="packagesEmpty" class="empty" style="display:none;">Nenhum pacote cadastrado ainda.</div>
      </div>
    </section>

    <!-- TAB: MIMOS -->
    <section id="tab-mimos" class="tab-view">
      <div class="section-title-row">
        <div class="section-title">üéÅ Mimos</div>

        <div class="section-actions" style="display:flex; gap:10px; align-items:center; flex-wrap:wrap;">
   <div style="display:flex; gap:8px; align-items:center;"><label style="font-size:14px;">Buscar</label>
  <input id="mimosSearch" type="text" placeholder="Buscar..." class="input" style="min-width:260px;" />

  <button class="btn btn-secondary" id="btnMimosClearSearch" type="button">
    Limpar
  </button>
</div>


          <button class="btn" id="btnNovoMimo" type="button">+ Novo Mimo</button>
        </div>
      </div>

      <div class="card">

        <!-- Form colaps√°vel (fechado por padr√£o) -->
        <div id="mimoFormWrap" class="card" style="margin:0 0 16px 0; display:none;">
          <div class="form-panel">
          <div style="display:flex; align-items:center; justify-content:space-between; gap:10px;">
            <h3 style="margin:0;">Cadastrar / Editar Mimo</h3>
           
          </div>

          <div class="grid-2" style="margin-top:12px;">
            <div>
              <div class="form-row">
                <label for="mimoTitle">T√≠tulo</label>
                <input id="mimoTitle" type="text" placeholder="Ex.: üéÅ Banho Gr√°tis" maxlength="80" />
              </div>

              <div class="form-row">
                <label for="mimoDesc">Descri√ß√£o (com emojis)</label>
                <textarea id="mimoDesc" rows="3" placeholder="Ex.: üéâ Voc√™ ganhou 1 banho gr√°tis!"></textarea>

                <div id="emojiPanel" style="margin-top:10px; display:flex; flex-wrap:wrap; gap:6px; user-select:none;"></div>
                <small style="opacity:.75">Dica r√°pida: no Windows, use <b>Win + .</b> para abrir o seletor de emojis.</small>
              </div>
            </div>

            <div>
              <div class="grid-2">
                <div class="form-row">
                  <label for="mimoValue">Valor (R$)</label>
                  <input id="mimoValue" type="text" inputmode="numeric" placeholder="0,00" />
                </div>

                <div class="form-row" style="display:flex; align-items:flex-end;">
                  <label style="display:flex; gap:8px; align-items:center; margin:0;">
                    <input id="mimoActive" type="checkbox" checked />
                    Ativo
                  </label>
                </div>
              </div>

              <div class="grid-2">
                <div class="form-row">
                  <label for="mimoStart">In√≠cio</label>
                  <input id="mimoStart" type="datetime-local" class="dt-input" />
                </div>

                <div class="form-row">
                  <label for="mimoEnd">T√©rmino</label>
                  <input id="mimoEnd" type="datetime-local" class="dt-input" />
                </div>
              </div>
  <div id="mimoMsg" style="margin-left:12px; opacity:.85;"></div>
           <div style="
  display:flex;
  gap:8px;
  margin-top:10px;
  align-items:center;
  justify-content:flex-end;
">
  <button class="btn" id="btnMimoSave" type="button">Salvar</button>
  <button class="btn btn-secondary" id="btnMimoClear" type="button">Limpar</button>

</div>
            </div>
          </div>
          </div>
        </div>


        <!-- Lista -->
        <div style="display:flex; align-items:center; justify-content:space-between; gap:10px; margin:18px 0 14px 0;">
          <h3 style="margin:0;">Lista de Mimos</h3>
        </div>

        <div class="table-wrap">
          <table>
            <thead>
              <tr>
                <th>T√≠tulo</th>
                <th>Valor</th>
                <th>Per√≠odo</th>
                <th>Ativo</th>
                <th style="width:200px;">A√ß√µes</th>
              </tr>
            </thead>
            <tbody id="tbodyMimos"></tbody>
          </table>
          <div id="mimosEmpty" class="empty" style="display:none;">Nenhum mimo cadastrado.</div>
        </div>

      </div>
    </section>

    <!-- TAB: HOR√ÅRIO DE FUNCIONAMENTO -->
    <section id="tab-horarios" class="tab-view">
      <div class="section-title-row">
        <div class="section-title"><span>‚è±Ô∏è</span> Hor√°rio de Funcionamento</div>
        <button class="btn btn-light" id="btnHoursReload" type="button">Recarregar</button>
      </div>

      <div class="form-panel" style="margin-top:6px;">
        <div style="font-size:14px;color:#546e7a;line-height:1.35;">
          Configure por dia: abertura, fechamento, dia fechado e a capacidade m√°xima de agendamentos por <strong>slot de 30 minutos</strong>.
        </div>
      </div>

      <div class="table-wrapper">
        <table>
          <thead>
            <tr>
              <th>Dia</th>
              <th>Fechado</th>
              <th>Abertura</th>
              <th>Fechamento</th>
              <th>Capacidade por hor√°rio</th>
              <th>Atualizado em</th>
            </tr>
          </thead>
          <tbody id="tbodyHours"></tbody>
        </table>
        <div id="hoursEmpty" class="empty" style="display:none;">N√£o foi poss√≠vel carregar o hor√°rio de funcionamento.</div>
      </div>

      <div class="form-actions" style="margin-top:10px;">
        <button class="btn btn-secondary" id="btnHoursResetDefault" type="button">Restaurar padr√£o</button>
        <button class="btn" id="btnHoursSave" type="button">Salvar Hor√°rios</button>
      </div>

      <div id="hoursMsg" class="login-footer-hint" style="margin-top:8px;"></div>
    </section>

    <!-- TAB: DASHBOARD -->


    <section id="tab-automacao" class="tab-view">
      <div class="card">
        <div class="card-header">
          <h2><span>‚öôÔ∏è</span> Automa√ß√£o (WhatsApp)</h2>
          <p class="muted">Ative/desative regras e edite os textos das mensagens. N√£o altera o layout do sistema; apenas configura√ß√µes.</p>
        </div>

        <div class="card-body">
          <h3 style="margin-top:0">Regras</h3>
          <div class="table-wrapper">
            <table>
              <thead>
                <tr>
                  <th>Ativo</th>
                  <th>C√≥digo</th>
                  <th>Nome</th>
                  <th>Trigger</th>
                  <th>Delay (min)</th>
                  <th>Cooldown (dias)</th>
                  <th>Template</th>
                  <th>A√ß√£o</th>
                </tr>
              </thead>
              <tbody id="tbodyAutomationRules">
                <tr><td colspan="9" class="muted">Carregando‚Ä¶</td></tr>
              </tbody>
            </table>
          </div>

          <hr style="margin:18px 0" />

          <h3>Templates</h3>
          <div style="display:flex; gap:10px; flex-wrap:wrap; align-items:center">
            <select id="automationTemplateSelect" style="min-width:260px"></select>
            <button id="btnReloadAutomation" class="btn" type="button">Recarregar</button>
          </div>

          <div style="margin-top:10px">
            <textarea id="automationTemplateBody" rows="8" style="width:100%; resize:vertical" placeholder="Digite o texto do template‚Ä¶"></textarea>
          </div>

          <div style="display:flex; gap:10px; margin-top:10px">
            <button id="btnSaveAutomationTemplate" class="btn primary" type="button">Salvar template</button>
          </div>

          <p class="muted" style="margin-top:10px">Vari√°veis dispon√≠veis: {{customer_name}}, {{pet_name}}, {{service_summary}}, {{date_br}}, {{time_br}}, {{days_since_last}}, {{ref_code}}</p>

          <hr style="margin:18px 0" />

          <h3>Fila (WhatsApp) ‚Äì MVP link/manual</h3>

          <div style="display:flex; gap:10px; flex-wrap:wrap; align-items:center; margin-bottom:10px;">
            <select id="queueStatusFilter" style="min-width:220px">
              <option value="queued" selected>Pendentes (queued)</option>
              <option value="sending">Enviando (sending)</option>
              <option value="sent">Enviados (sent)</option>
              <option value="cancelled">Cancelados (cancelled)</option>
              <option value="failed">Falhas (failed)</option>
              <option value="">Todos</option>
            </select>

            <button id="btnQueueReload" class="btn" type="button">Recarregar fila</button>
            <button id="btnQueueCopyNext" class="btn btn-light" type="button">Copiar link do pr√≥ximo</button>
            <button id="btnQueueOpenNext" class="btn btn-light" type="button">Abrir link do pr√≥ximo</button>

            <div class="muted" id="queueMeta" style="margin-left:auto;"></div>
          </div>

          <div class="table-wrapper">
            <table>
              <thead>
                <tr>
                  <th>ID</th>
                  <th>Status</th>
                  <th>Para</th>
                  <th>Cliente</th>
                  <th>Regra</th>
                  <th>Agendado</th>
                  <th>Criado</th>
                  <th style="width:240px;">A√ß√µes</th>
                </tr>
              </thead>
              <tbody id="tbodyQueue">
                <tr><td colspan="9" class="muted">Carregando‚Ä¶</td></tr>
              </tbody>
            </table>
          </div>

          <p class="muted" style="margin-top:10px">
            Como usar: o sistema gera o <strong>link wa.me</strong> na fila. No MVP, voc√™ copia/abre o link e envia manualmente. ‚ÄúPARAR‚Äù aplica opt-out real e cancela pend√™ncias.
          </p>

          <hr style="margin:18px 0" />

          <h3>Fila (WhatsApp) ‚Äì MVP link/manual</h3>

          <div style="display:flex; gap:10px; flex-wrap:wrap; align-items:center; margin-bottom:10px;">
            <select id="queueStatusFilter" style="min-width:220px">
              <option value="queued" selected>Pendentes (queued)</option>
              <option value="sending">Enviando (sending)</option>
              <option value="sent">Enviados (sent)</option>
              <option value="cancelled">Cancelados (cancelled)</option>
              <option value="failed">Falhas (failed)</option>
              <option value="">Todos</option>
            </select>

            <button id="btnQueueReload" class="btn" type="button">Recarregar fila</button>
            <button id="btnQueueCopyNext" class="btn btn-light" type="button">Copiar link do pr√≥ximo</button>
            <button id="btnQueueOpenNext" class="btn btn-light" type="button">Abrir link do pr√≥ximo</button>

            <div class="muted" id="queueMeta" style="margin-left:auto;"></div>
          </div>

          <div class="table-wrapper">
            <table>
              <thead>
                <tr>
                  <th>ID</th>
                  <th>Status</th>
                  <th>Para</th>
                  <th>Cliente</th>
                  <th>Regra</th>
                  <th>Agendado</th>
                  <th>Criado</th>
                  <th style="width:240px;">A√ß√µes</th>
                </tr>
              </thead>
              <tbody id="tbodyQueue">
                <tr><td colspan="9" class="muted">Carregando‚Ä¶</td></tr>
              </tbody>
            </table>
          </div>

          <p class="muted" style="margin-top:10px">
            Como usar: o sistema gera o <strong>link wa.me</strong> na fila. No MVP, voc√™ copia/abre o link e envia manualmente. ‚ÄúPARAR‚Äù aplica opt-out real e cancela pend√™ncias.
          </p>

          <hr style="margin:18px 0" />

          <h3>Fila (WhatsApp) ‚Äì MVP link/manual</h3>

          <div style="display:flex; gap:10px; flex-wrap:wrap; align-items:center; margin-bottom:10px;">
            <select id="queueStatusFilter" style="min-width:220px">
              <option value="queued" selected>Pendentes (queued)</option>
              <option value="sending">Enviando (sending)</option>
              <option value="sent">Enviados (sent)</option>
              <option value="cancelled">Cancelados (cancelled)</option>
              <option value="failed">Falhas (failed)</option>
              <option value="">Todos</option>
            </select>

            <button id="btnQueueReload" class="btn" type="button">Recarregar fila</button>
            <button id="btnQueueCopyNext" class="btn btn-light" type="button">Copiar link do pr√≥ximo</button>
            <button id="btnQueueOpenNext" class="btn btn-light" type="button">Abrir link do pr√≥ximo</button>

            <div class="muted" id="queueMeta" style="margin-left:auto;"></div>
          </div>

          <div class="table-wrapper">
            <table>
              <thead>
                <tr>
                  <th>ID</th>
                  <th>Status</th>
                  <th>Para</th>
                  <th>Cliente</th>
                  <th>Regra</th>
                  <th>Agendado</th>
                  <th>Criado</th>
                  <th style="width:240px;">A√ß√µes</th>
                </tr>
              </thead>
              <tbody id="tbodyQueue">
                <tr><td colspan="9" class="muted">Carregando‚Ä¶</td></tr>
              </tbody>
            </table>
          </div>

          <p class="muted" style="margin-top:10px">
            Como usar: o sistema gera o <strong>link wa.me</strong> na fila. No MVP, voc√™ copia/abre o link e envia manualmente. ‚ÄúPARAR‚Äù aplica opt-out real e cancela pend√™ncias.
          </p>

        </div>
      </div>
    </section>

    <section id="tab-dashboard" class="tab-view">
      <div class="section-title-row">
        <div class="section-title"><span>üìä</span> Dashboard</div>
      </div>

      <div class="form-panel" id="dashboardFilters">
        <div class="form-row-2">
          <div class="form-group">
            <label for="dashPeriod">Per√≠odo</label>
            <select id="dashPeriod">
              <option value="today">Hoje</option>
              <option value="7">√öltimos 7 dias</option>
              <option value="30">√öltimos 30 dias</option>
              <option value="month">M√™s atual</option>
              <option value="custom">Personalizado</option>
            </select>
          </div>
          <div class="form-group dash-custom-range hidden" id="dashCustomRange">
            <label>Per√≠odo personalizado</label>
            <div style="display:flex;gap:6px;flex-wrap:wrap;">
              <input type="date" id="dashStart" />
              <input type="date" id="dashEnd" />
              <button class="btn btn-small" id="dashApply" type="button">Aplicar</button>
            </div>
          </div>
        </div>
      </div>

      <div class="stats">
        <div class="stats-item"><span class="stats-label">Agendamentos no per√≠odo:</span> <span class="stats-value" id="dashTotalBookings">0</span></div>
        <div class="stats-item"><span class="stats-label">Clientes √∫nicos no per√≠odo:</span> <span class="stats-value" id="dashUniqueCustomers">0</span></div>
        <div class="stats-item"><span class="stats-label">Total de clientes cadastrados:</span> <span class="stats-value" id="dashTotalCustomers">0</span></div>
        <div class="stats-item"><span class="stats-label">Pagos:</span> <span class="stats-value" id="dashPaidBookings">0</span></div>
        <div class="stats-item"><span class="stats-label">N√£o Pagos:</span> <span class="stats-value" id="dashUnpaidBookings">0</span></div>
        <div class="stats-item"><span class="stats-label">Cancelamento:</span> <span class="stats-value" id="dashCancelRate">0%</span></div>
        <div class="stats-item"><span class="stats-label">Tempo m√©dio:</span> <span class="stats-value" id="dashAvgDuration">0 min</span></div>

      </div>

      <div class="section-title" style="margin-top:12px;">Status dos agendamentos</div>
      <div class="stats">
        <div class="stats-item"><span class="stats-label">Agendado:</span> <span class="stats-value" id="dashStatusAgendado">0</span></div>
        <div class="stats-item"><span class="stats-label">Confirmado:</span> <span class="stats-value" id="dashStatusConfirmado">0</span></div>
        <div class="stats-item"><span class="stats-label">Recebido:</span> <span class="stats-value" id="dashStatusRecebido">0</span></div>
        <div class="stats-item"><span class="stats-label">Em servi√ßo:</span> <span class="stats-value" id="dashStatusEmServico">0</span></div>
        <div class="stats-item"><span class="stats-label">Conclu√≠do:</span> <span class="stats-value" id="dashStatusConcluido">0</span></div>
        <div class="stats-item"><span class="stats-label">Entregue:</span> <span class="stats-value" id="dashStatusEntregue">0</span></div>
        <div class="stats-item"><span class="stats-label">Cancelado:</span> <span class="stats-value" id="dashStatusCancelado">0</span></div>
      </div>

      <div class="section-title" style="margin-top:12px;">Mimos da Roleta no per√≠odo</div>
      <div class="stats">
        <div class="stats-item"><span class="stats-label">Tosa Higi√™nica:</span> <span class="stats-value" id="dashPrizeTosa">0</span></div>
        <div class="stats-item"><span class="stats-label">Hidrata√ß√£o:</span> <span class="stats-value" id="dashPrizeHidratacao">0</span></div>
        <div class="stats-item"><span class="stats-label">Foto/V√≠deo Profissional:</span> <span class="stats-value" id="dashPrizeFotoVideo">0</span></div>
        <div class="stats-item"><span class="stats-label">Patinhas impec√°veis:</span> <span class="stats-value" id="dashPrizePatinhas">0</span></div>
      </div>

      <!-- NOVO: M√âTRICAS FINANCEIRAS POR SERVI√áO -->
      <div class="section-title" style="margin-top:16px;">Servi√ßos no per√≠odo (quantidade e faturamento estimado)</div>

      <div class="stats">
        <div class="stats-item"><span class="stats-label">Faturamento estimado no per√≠odo:</span> <span class="stats-value" id="dashRevenue">R$ 0,00</span></div>
        <div class="stats-item"><span class="stats-label">Ticket m√©dio estimado:</span> <span class="stats-value" id="dashAvgTicket">R$ 0,00</span></div>
      </div>

      <div class="table-wrapper">
        <table>
          <thead>
            <tr>
              <th>Servi√ßo</th>
              <th>Qtd.</th>
              <th>Pre√ßo (cadastro)</th>
              <th>Total</th>
            </tr>
          </thead>
          <tbody id="tbodyDashServices"></tbody>
        </table>
        <div id="dashServicesEmpty" class="empty" style="display:none;">Sem dados suficientes para compor o financeiro por servi√ßo.</div>
      </div>

      

<!-- NOVO: PACOTES NO PER√çODO -->
<div class="section-title" style="margin-top:18px;">Pacotes no per√≠odo (quantidade e faturamento estimado)</div>
<div class="stats">
  <div class="stats-item"><span class="stats-label">Pacotes vendidos:</span> <span class="stats-value" id="dashPackagesCount">0</span></div>
  <div class="stats-item"><span class="stats-label">Faturamento de pacotes (cobrado):</span> <span class="stats-value" id="dashPackagesRevenue">R$ 0,00</span></div>
  <div class="stats-item"><span class="stats-label">Desconto m√©dio (estimado):</span> <span class="stats-value" id="dashPackagesDiscountAvg">0%</span></div>
</div>

<div class="table-wrapper">
  <table>
    <thead>
      <tr>
        <th>Pacote</th>
        <th>Qtd. vendas</th>
        <th>Valor de tabela</th>
        <th>Valor cobrado</th>
        <th>% desconto</th>
      </tr>
    </thead>
    <tbody id="tbodyDashPackages"></tbody>
  </table>
  <div id="dashPackagesEmpty" class="empty" style="display:none;">Sem dados suficientes para compor os pacotes no per√≠odo.</div>
</div>

      <div class="section-title" style="margin-top:20px;">Vis√£o Gr√°fica</div>
      <div style="display:flex;flex-wrap:wrap;gap:20px;justify-content:center;margin-top:10px;">
        <div style="background:#fff;border-radius:16px;padding:12px;box-shadow:0 4px 14px rgba(0,0,0,0.06);">
          <canvas id="chartStatus" style="max-width:460px;"></canvas>
        </div>
        <div style="background:#fff;border-radius:16px;padding:12px;box-shadow:0 4px 14px rgba(0,0,0,0.06);">
          <canvas id="chartPrizes" style="max-width:380px;"></canvas>
        </div>
        <div style="background:#fff;border-radius:16px;padding:12px;box-shadow:0 4px 14px rgba(0,0,0,0.06);">
          <canvas id="chartRevenue" style="max-width:520px;"></canvas>
        </div>
        <div style="background:#fff;border-radius:16px;padding:12px;box-shadow:0 4px 14px rgba(0,0,0,0.06);">
          <canvas id="chartWeekday" style="max-width:520px;"></canvas>
        </div>
        <div style="background:#fff;border-radius:16px;padding:12px;box-shadow:0 4px 14px rgba(0,0,0,0.06);">
          <canvas id="chartPayments" style="max-width:420px;"></canvas>
        </div>

      </div>
    </section>

    <!-- TAB: FINANCEIRO -->
    <section id="tab-financeiro" class="tab-view">
      <div class="section-title-row">
        <div class="section-title"><span>üí∞</span> Financeiro</div>
      </div>

      <div class="form-panel">
        <div class="form-row-3">
          <div class="form-group">
            <label for="finStart">De</label>
            <input type="date" id="finStart" />
          </div>
          <div class="form-group">
            <label for="finEnd">At√©</label>
            <input type="date" id="finEnd" />
          </div>
          <div class="form-group" style="align-items:flex-end;">
            <label style="opacity:0;">A√ß√µes</label>
            <div style="display:flex;gap:8px;flex-wrap:wrap;justify-content:flex-end;">
              <button class="btn btn-light" id="btnFinHoje" type="button">Hoje</button>
              <button class="btn btn-light" id="btnFinMes" type="button">M√™s atual</button>
              <button class="btn" id="btnFinAplicar" type="button">Aplicar</button>
              <button class="btn" id="btnFinNovoLanc" type="button">+ Novo lan√ßamento</button>
              <button class="btn btn-secondary" id="btnFinExportCSV" type="button">Exportar CSV</button>
            </div>
          </div>
        </div>
      </div>

      <div class="stats" id="finStats">
        <div class="stats-item"><span class="stats-label">Recebidos:</span> <span class="stats-value" id="finPaid">R$ 0,00</span></div>
        <div class="stats-item"><span class="stats-label">Aguardando:</span> <span class="stats-value" id="finPending">R$ 0,00</span></div>
        <div class="stats-item"><span class="stats-label">N√£o pago:</span> <span class="stats-value" id="finUnpaid">R$ 0,00</span></div>
        <div class="stats-item"><span class="stats-label">Recusado:</span> <span class="stats-value" id="finRejected">R$ 0,00</span></div>
        <div class="stats-item"><span class="stats-label">Sa√≠das:</span> <span class="stats-value stats-negative" id="finOut">R$ 0,00</span></div>
        <div class="stats-item"><span class="stats-label">Total:</span> <span class="stats-value" id="finTotal">R$ 0,00</span></div>
      </div>

      <div class="table-wrapper">
        <table>
          <thead>
            <tr>
              <th class="fin-th-filter" data-fin-col="date">Data</th>
              <th class="fin-th-filter" data-fin-col="type">Tipo</th>
              <th class="fin-th-filter" data-fin-col="customer_name">Cliente</th>
              <th class="fin-th-filter" data-fin-col="pet_name">Pet</th>
              <th class="fin-th-filter" data-fin-col="description">Descri√ß√£o</th>
              <th class="fin-th-filter" data-fin-col="payment_method">M√©todo</th>
              <th class="fin-th-filter" data-fin-col="payment_status">Status</th>
              <th class="fin-th-filter" data-fin-col="amount_cents" style="width:120px;">Valor</th>
              <th style="width:44px;"></th>
            </tr>
          </thead>
          <tbody id="tbodyFinance">
            <tr><td colspan="9" class="muted">Carregando‚Ä¶</td></tr>
          </tbody>
        </table>
      </div>

      <div class="empty hidden" id="finEmpty">Nenhum lan√ßamento no per√≠odo.</div>
    </section>


</div>
</div>
     

<!-- MODAL: NOVO LAN√áAMENTO (Financeiro) -->
<div id="financeEntryModal" class="pf-modal-overlay hidden" aria-hidden="true" data-close="financeEntryModal">
  <div class="pf-modal" role="dialog" aria-modal="true" aria-label="Novo lan√ßamento">
    <div class="pf-modal-head">
      <div class="pf-modal-left">
        <div class="pf-modal-ic" aria-hidden="true">üí∞</div>
        <div>
          <p class="pf-modal-title" id="financeEntryModalTitle">Novo lan√ßamento</p>
          <p class="pf-modal-sub" id="financeEntryModalSub">Registre uma entrada ou sa√≠da manual no financeiro.</p>
        </div>
      </div>
      <button class="pf-modal-x" id="financeEntryModalClose" type="button" aria-label="Fechar">√ó</button>
    </div>

    <div class="pf-modal-body">
      <form id="financeEntryForm" class="form-panel" autocomplete="off">
        <input type="hidden" id="finEntryId" value="" />
        <div class="form-row-3">
          <div class="form-group">
            <label for="finEntryDate">Data</label>
            <input type="date" id="finEntryDate" required />
          </div>

          <div class="form-group">
            <label for="finEntryType">Tipo</label>
            <select id="finEntryType" required>
              <option value="Entrada">Entrada</option>
              <option value="Sa√≠da">Sa√≠da</option>
            </select>
          </div>

          <div class="form-group">
            <label for="finEntryAmount">Valor</label>
            <input type="text" id="finEntryAmount" placeholder="R$ 0,00" required />
          </div>
        </div>

        <div class="form-row-3">
          <div class="form-group">
            <label for="finEntryMethod">M√©todo</label>
            <select id="finEntryMethod">
              <option value="Dinheiro">Dinheiro</option>
              <option value="Pix">Pix</option>
              <option value="Cart√£o">Cart√£o</option>
              <option value="Transfer√™ncia">Transfer√™ncia</option>
              <option value="Outro">Outro</option>
            </select>
          </div>

          <div class="form-group">
            <label for="finEntryStatus">Status</label>
            <select id="finEntryStatus">
              <option value="Pago">Pago</option>
              <option value="Aguardando">Aguardando</option>
              <option value="N√£o Pago">N√£o Pago</option>
              <option value="Recusado">Recusado</option>
            </select>
          </div>

          <div class="form-group">
            <label for="finEntryCategory">Categoria</label>
            <input type="text" id="finEntryCategory" placeholder="Ex: Banho &amp; Tosa / Produto / Aluguel..." />
          </div>
        </div>

        <div class="form-row-2">
          <div class="form-group" style="width:100%;">
            <label for="finEntryDesc">Descri√ß√£o</label>
            <input type="text" id="finEntryDesc" placeholder="Detalhe do lan√ßamento" />
          </div>
        </div>

        <div class="pf-modal-actions" style="margin-top:14px;">
          <button class="btn btn-secondary" id="btnFinEntryCancel" type="button">Cancelar</button>
          <button class="btn" id="btnFinEntrySave" type="submit">Salvar</button>
        </div>

        <div class="pf-modal-success hidden" id="financeEntryModalSuccess" style="margin-top:12px;">
          <div class="pf-modal-success-msg" id="financeEntryModalSuccessMsg">Lan√ßamento salvo com sucesso.</div>
        </div>

        <div class="pf-error" id="financeEntryModalError" style="display:none;margin-top:10px;"></div>
      </form>
    </div>
  </div>
</div>


<footer class="site-footer">
  <div class="footer-inner">
    <div class="footer-top">
      <img src="/pet-funny-logo.svg" alt="Pet Funny" class="footer-logo" />
      <div class="footer-bottom">¬© <span id="footerYear"></span> Pet Funny ‚Ä¢ Roleta de Mimos. Todos os direitos reservados.</div>
      <div class="footer-info">
        <strong>Pet Funny ‚Ä¢ Banho &amp; Tosa</strong>
        <span>Rua Virg√≠lio de Carvalho Neves Neto, 794 ‚Äì Ribeir√£o Preto / SP</span>
        <span>Hor√°rio: <span id="footerHoursText">‚Äî</span></span>
        <span>WhatsApp: (16) 98153-5338</span>
      </div>
    </div>
    
  </div>
</footer>


<!-- <script src="/pf_healthcheck.js"></script> -->

<!-- MODAL: Cadastrar / Editar Cliente -->
<div id="customerModal" class="pf-modal-overlay hidden" aria-hidden="true" data-close="customerModal">
  <div class="pf-modal" role="dialog" aria-modal="true" aria-label="Cliente">
    <div class="pf-modal-head">
      <div class="pf-modal-left">
        <div class="pf-modal-ic" aria-hidden="true">üë§</div>
        <div>
          <p class="pf-modal-title" id="customerModalTitle">Cadastrar novo cliente</p>
          <p class="pf-modal-sub" id="customerModalSub">Preencha os dados para salvar.</p>
        </div>
      </div>
      <button class="pf-modal-x" id="customerModalClose" type="button" aria-label="Fechar">√ó</button>
    </div>

    <div class="pf-modal-body">
      <!-- aqui o bloco #clienteFormBlock ser√° movido dinamicamente -->
      <div id="customerModalHost"></div>

      <!-- sucesso -->
      <div id="customerModalSuccess" class="pf-modal-success hidden">
        <div class="pf-modal-success-msg" id="customerModalSuccessMsg">Cliente cadastrado com sucesso</div>
        <div class="pf-modal-actions">
          <button class="btn btn-light" id="customerModalBtnFechar" type="button">Fechar</button>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- MODAL: Pets do Cliente -->
<div id="petsModal" class="pf-modal-overlay hidden" aria-hidden="true" data-close="petsModal">
  <div class="pf-modal" role="dialog" aria-modal="true" aria-label="Pets" style="width:min(980px, calc(100vw - 32px));">
    <div class="pf-modal-head">
      <div class="pf-modal-left">
        <div class="pf-modal-ic" aria-hidden="true">üê∂</div>
        <div>
          <p class="pf-modal-title" id="petsModalTitle">Pets</p>
          <p class="pf-modal-sub" id="petsModalSub">Lista de pets do cliente.</p>
        </div>
      </div>
      <button class="pf-modal-x" id="petsModalClose" type="button" aria-label="Fechar">√ó</button>
    </div>

    <div class="pf-modal-body">
      <!-- aqui o card #petsCard ser√° movido dinamicamente -->
      <div id="petsModalHost"></div>
    </div>
  </div>
</div>



<!-- MODAL: Cadastrar / Editar Servi√ßo -->
<div id="serviceModal" class="pf-modal-overlay hidden" aria-hidden="true" data-close="serviceModal">
  <div class="pf-modal" role="dialog" aria-modal="true" aria-label="Servi√ßo">
    <div class="pf-modal-head">
      <div class="pf-modal-left">
        <div class="pf-modal-ic" aria-hidden="true">üßº</div>
        <div>
          <p class="pf-modal-title" id="serviceModalTitle">Cadastrar / Editar Servi√ßo</p>
          <p class="pf-modal-sub" id="serviceModalSub">Preencha os dados para salvar.</p>
        </div>
      </div>
      <button class="pf-modal-x" id="serviceModalClose" type="button" aria-label="Fechar">√ó</button>
    </div>

    <div class="pf-modal-body">
      <div id="serviceModalHost">
        <div id="serviceFormPanel">
        <input type="hidden" id="serviceId" />
        <input type="hidden" id="serviceDate" />
        <div class="form-row-2">
<div class="form-group">
            <label for="serviceCategory">Categoria</label>
            <select id="serviceCategory">
              <option value="">Selecione...</option>
              <option value="Banho">Banho</option>
              <option value="Complemento">Complemento</option>
              <option value="Tosa">Tosa</option>
              <option value="Avulso">Avulso</option>
            </select>
          </div>

          <div class="form-group">
            <label for="serviceTitle">T√≠tulo do servi√ßo</label>
            <input type="text" id="serviceTitle" placeholder="Ex: Banho (Porte M)" />
          </div>

          <div class="form-group">
            <label for="servicePorte">Porte</label>
            <select id="servicePorte">
              <option value="">Selecione...</option>
              <option value="Pequeno">Pequeno</option>
              <option value="M√©dio">M√©dio</option>
              <option value="Grande">Grande</option>
            </select>
          </div>

          <div class="form-group">
            <label for="servicePrice">Pre√ßo (R$)</label>
            <input type="text" id="servicePrice" placeholder="R$ 0,00" inputmode="numeric" />
          </div>

          <div class="form-group">
            <label for="serviceTempo">Tempo (min)</label>
            <input type="number" name="duration_min" id="serviceTempo" class="input-tempo-min" min="0" step="5" placeholder="Ex: 60" inputmode="numeric" />
          </div>
        </div>

        <div id="serviceError" class="error-msg" style="display:none;"></div>

        <div class="form-actions">
          <button class="btn btn-secondary" id="btnServiceCancel" type="button">Cancelar</button>
          <button class="btn" id="btnServiceSave" type="button">Salvar</button>
        </div>
      </div>
      </div>
    </div>
  </div>
</div>

<!-- MODAL: Cadastrar / Editar Mimo -->
<div id="mimoModal" class="pf-modal-overlay hidden" aria-hidden="true" data-close="mimoModal">
  <div class="pf-modal" role="dialog" aria-modal="true" aria-label="Mimo" style="width:min(980px, calc(100vw - 32px));">
    <div class="pf-modal-head">
      <div class="pf-modal-left">
        <div class="pf-modal-ic" aria-hidden="true">üéÅ</div>
        <div>
          <p class="pf-modal-title" id="mimoModalTitle">Cadastrar / Editar Mimo</p>
          <p class="pf-modal-sub" id="mimoModalSub">Preencha os dados para salvar.</p>
        </div>
      </div>
      <button class="pf-modal-x" id="mimoModalClose" type="button" aria-label="Fechar">√ó</button>
    </div>

    <div class="pf-modal-body">
      <!-- aqui o bloco #mimoFormWrap ser√° movido dinamicamente -->
      <div id="mimoModalHost"></div>
    </div>
  </div>
</div>

<!-- MODAL: Informa√ß√µes (Cliente / Pet) -->
<div id="infoModal" class="pf-modal-overlay hidden" aria-hidden="true" data-close="infoModal">
  <div class="pf-modal" role="dialog" aria-modal="true" aria-label="Informa√ß√µes" style="width:min(720px, calc(100vw - 32px));">
    <div class="pf-modal-head">
      <div class="pf-modal-left">
        <div class="pf-modal-ic" aria-hidden="true" id="infoModalIcon">‚ÑπÔ∏è</div>
        <div>
          <p class="pf-modal-title" id="infoModalTitle">Informa√ß√µes</p>
          <p class="pf-modal-sub" id="infoModalSub">Detalhes</p>
        </div>
      </div>
      <button class="pf-modal-x" id="infoModalClose" type="button" aria-label="Fechar">√ó</button>
    </div>

    <div class="pf-modal-body">
      <div id="infoModalBody"></div>
      <div class="pf-modal-actions" style="display:flex; justify-content:flex-end; gap:10px; margin-top:14px;">
        <button class="btn btn-light" id="infoModalBtnFechar" type="button">Fechar</button>
      </div>
    </div>
  </div>
</div>

<!-- PF HINT MODAL (auto-close + focus) -->
<div id="pfHintOverlay" class="pf-hint-overlay" aria-hidden="true">
  <div class="pf-hint-modal" role="dialog" aria-modal="true" aria-label="Notifica√ß√£o">
    <div class="pf-hint-head">
      <div class="pf-hint-left">
        <div class="pf-hint-ic" aria-hidden="true">i</div>
        <div>
          <p class="pf-hint-title" id="pfHintTitle">Aviso</p>
          <p class="pf-hint-msg" id="pfHintMsg">...</p>
        </div>
      </div>
      <button class="pf-hint-x" id="pfHintClose" type="button" aria-label="Fechar">√ó</button>
    </div>
    <div class="pf-hint-bar" aria-hidden="true"><i id="pfHintBar"></i></div>
  </div>
</div>

<!-- Hist√≥rico de Agendamentos do Cliente (modal) -->
<div id="custHistOverlay" class="pf-hint-overlay" aria-hidden="true" style="display:none;">
  <div class="pf-hint-modal" role="dialog" aria-modal="true" aria-label="Hist√≥rico de agendamentos" style="width:min(980px, calc(100vw - 32px));">
    <div class="pf-hint-head">
      <div class="pf-hint-left">
        <div class="pf-hint-ic" aria-hidden="true">üìÖ</div>
        <div>
          <p class="pf-hint-title" id="custHistTitle">Hist√≥rico</p>
          <p class="pf-hint-msg" id="custHistSub" style="margin-top:2px;">...</p>
        </div>
      </div>
      <button class="pf-hint-x" id="custHistClose" type="button" aria-label="Fechar">√ó</button>
    </div>

    <div style="margin-top:12px; max-height: 62vh; overflow:auto; border:1px solid rgba(255,255,255,.10); border-radius:12px; background: rgba(255,255,255,.04);">
      
      <table style="width:100%; border-collapse: collapse; font-size:14px;">
        <thead>
          <tr style="background-color: #BBE1E9">
            <th style="text-align:left; padding:10px; border-bottom:1px solid rgba(255,255,255,.10);">Data</th>
            <th style="text-align:left; padding:10px; border-bottom:1px solid rgba(255,255,255,.10);">Hora</th>
            <th style="text-align:left; padding:10px; border-bottom:1px solid rgba(255,255,255,.10);">Pet</th>
            <th style="text-align:left; padding:10px; border-bottom:1px solid rgba(255,255,255,.10);">Servi√ßos</th>
            <th style="text-align:left; padding:10px; border-bottom:1px solid rgba(255,255,255,.10);">Status</th>
            <th style="text-align:left; padding:10px; border-bottom:1px solid rgba(255,255,255,.10);">Pagamento</th>
          </tr>
        </thead>
        <tbody id="custHistTbody"></tbody>
      </table>
    </div>
  </div>
</div>

<!-- Modal de loading para envio da ficha do pacote (WhatsApp) -->
<div id="packageDispatchOverlay" aria-hidden="true" style="display:none; position:fixed; inset:0; z-index:9999; background:rgba(0,0,0,.55); align-items:center; justify-content:center;">
  <div style="background:#fff; color:#111; padding:18px 20px; border-radius:14px; width:min(520px, 92vw); box-shadow:0 10px 30px rgba(0,0,0,.25);">
    <div style="display:flex; align-items:center; gap:12px;">
      <div style="width:18px; height:18px; border:3px solid #ddd; border-top-color:#01ADB7; border-radius:50%; animation: pfSpin 1s linear infinite;"></div>
      <div>
        <div style="font-weight:800; font-size:16px; line-height:1.2;">Encaminhando Detalhes do Pacote.....</div>
        <div id="packageDispatchSub" style="margin-top:4px; font-size:14px; opacity:.85;">Abrindo o WhatsApp com a ficha completa do pacote.</div>
      </div>
    </div>
  </div>
</div>
<style>
  @keyframes pfSpin { from { transform: rotate(0deg);} to { transform: rotate(360deg);} }

/* PATCH: Agendamentos - tabela compacta sem scroll (2026-01-06)
   Objetivo: reduzir quebra/estouro de colunas SEM mudar layout estrutural. */
#agendaListWrapper table{
  width:100%;
  table-layout:fixed; /* estabiliza colunas */
  font-size:12px;     /* diminui fonte (pedido) */
}
#agendaListWrapper th, #agendaListWrapper td{
  box-sizing:border-box;
  vertical-align:middle;
  padding:8px 8px;
}

/* Cabe√ßalho sempre em 1 linha */
#agendaListWrapper th{ white-space:nowrap; }

/* Default: evita estourar (retic√™ncias) */
#agendaListWrapper td{
  overflow:hidden;
  text-overflow:ellipsis;
  white-space:nowrap;
}

/* Larguras por coluna (ajuste fino para caber sem scroll)
   Obs: a tabela tem uma coluna inicial de faixa de status. */
#agendaListWrapper th:nth-child(1),  #agendaListWrapper td:nth-child(1){  width:0.5%; } /* Faixa */
#agendaListWrapper th:nth-child(2),  #agendaListWrapper td:nth-child(2){  width:8.5%; } /* Data (‚Üë um pouco) */
#agendaListWrapper th:nth-child(3),  #agendaListWrapper td:nth-child(3){  width:5%; }   /* Hora */
#agendaListWrapper th:nth-child(4),  #agendaListWrapper td:nth-child(4){  width:12%; }  /* Tutor(a) (com foto) */
#agendaListWrapper th:nth-child(5),  #agendaListWrapper td:nth-child(5){  width:10%; }  /* Pet (com foto) */
#agendaListWrapper th:nth-child(6),  #agendaListWrapper td:nth-child(6){  width:8%; }   /* Telefone */
#agendaListWrapper th:nth-child(7),  #agendaListWrapper td:nth-child(7){  width:10%; }  /* Servi√ßo(s) */
#agendaListWrapper th:nth-child(8),  #agendaListWrapper td:nth-child(8){  width:11%; }  /* Valores */
#agendaListWrapper th:nth-child(9),  #agendaListWrapper td:nth-child(9){  width:10%; }  /* Mimo (‚Üë mais largo) */
#agendaListWrapper th:nth-child(10), #agendaListWrapper td:nth-child(10){ width:4%; }   /* Pagamento (s√≠mbolo) */
#agendaListWrapper th:nth-child(11), #agendaListWrapper td:nth-child(11){ width:5%; }   /* Forma */
#agendaListWrapper th:nth-child(12), #agendaListWrapper td:nth-child(12){ width:6%; }   /* Obs (‚Üì menor) */
#agendaListWrapper th:nth-child(13), #agendaListWrapper td:nth-child(13){ width:6%; }   /* Status */
#agendaListWrapper th:nth-child(14), #agendaListWrapper td:nth-child(14){ width:4%; }   /* A√ß√µes */

/* Colunas com quebra de linha (pedido) */
/* Tutor(a) e Pet: n√£o cortar nome, pode quebrar (com avatar) */
#agendaListWrapper td:nth-child(4),
#agendaListWrapper td:nth-child(5){
  white-space:normal;
  overflow:visible;
  text-overflow:clip;
}
/* Servi√ßos e Valores/tempo(s): permitir quebrar (e j√° inserimos <br> em valores/tempo) */
#agendaListWrapper td:nth-child(7),
#agendaListWrapper td:nth-child(8){
  white-space:normal;
}
/* Obs: largura menor, mas sem cortar texto (quebra linha) */
#agendaListWrapper td:nth-child(12){
  white-space:normal;
  overflow:visible;
  text-overflow:clip;
  word-break:break-word;
}
/* Telefone: nunca quebrar linha */
#agendaListWrapper td:nth-child(6){ white-space:nowrap; }

/* Badges compactos (Pagamento e Status com mesmo "tamanho") */
#agendaListWrapper .pay-badge,
#agendaListWrapper .td-status{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  gap:4px;
  font-size:11px;
  line-height:1;
  padding:4px 6px;
  border-radius:999px;
  max-width:100%;
  white-space:nowrap;
}
/* Pagamento (Pg): badge circular fixo (evita estourar coluna) */
#agendaListWrapper .pay-badge{
  width:26px;
  height:26px;
  min-width:26px;
  padding:0;
  font-size:12px;
}
/* garante que o badge de status n√£o "estoure" a c√©lula */
#agendaListWrapper td:nth-child(13) .td-status{
  max-width:100%;
  overflow:hidden;
  text-overflow:ellipsis;
}
</style>


<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<!-- PATCH: load modular JS in correct order (globals for backward compatibility) - 2025-12-24 -->
<script src="/pf_time.js"></script>
<script src="/pf_helpers.js"></script>
<script src="/pf_api.js"></script>
<script src="/admin/js/bootstrap.js"></script>

<div id="packageModal" class="pf-modal-overlay hidden" aria-hidden="true" data-close="packageModal">
  <div class="pf-modal" role="dialog" aria-modal="true" aria-label="Pacote">
    <div class="pf-modal-head">
      <div class="pf-modal-left">
        <div class="pf-modal-ic" aria-hidden="true">üì¶</div>
        <div>
          <p class="pf-modal-title" id="packageModalTitle">Cadastrar / Editar Pacote</p>
          <p class="pf-modal-sub" id="packageModalSub">Preencha os dados para salvar.</p>
        </div>
      </div>
      <button class="pf-modal-x" id="packageModalClose" type="button" aria-label="Fechar">√ó</button>
    </div>

    <div class="pf-modal-body">
      <div id="packageModalHost"></div>
    </div>
  </div>
</div>

</body>
</html>
